<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Migrations - NUSANTARA HMVC</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism.min.css">
</head>
<body>
    <div class="container">
        <nav class="sidebar">
            <div class="sidebar-header">
                <h2>NUSANTARA HMVC</h2>
                <p>Version 1.0 - Beta</p>
                <small>A Lightweight PHP HMVC Framework</small>
            </div>
            <ul class="sidebar-nav">
                <li><a href="../index.html">Overview</a></li>
                <li><a href="getting-started.html">Getting Started</a></li>
                <li><a href="structure.html">Project Structure</a></li>
                <li><a href="mvc.html">MVC Architecture</a></li>
                <li><a href="routing.html">Routing</a></li>
                <li><a href="migrations.html" class="active">Migrations</a></li>
                <li><a href="autoload.html">Autoload</a></li>
                <li><a href="database.html">Database</a></li>
                <li><a href="forms.html">Forms & Validation</a></li>
                <li><a href="security.html">Security</a></li>
                <li><a href="helpers.html">Helpers</a></li>
            </ul>
        </nav>
        <main class="content">
            <section id="migrations">
                <h1>Database Migrations</h1>
                <p>NUSANTARA HMVC provides a simple migration system to manage database schema changes.</p>

                <h2>Migration Files</h2>
                <p>Migration files are stored in the <code>databases/migrations/</code> directory:</p>
                <pre><code class="language-plaintext">databases/migrations/
├── create_tbl_m_items.sql
└── create_migrations.sql</code></pre>

                <h2>Running Migrations</h2>
                <p>To run migrations, use the command line:</p>
                <pre><code class="language-bash">cd /path/to/medkit3
php migrate.php</code></pre>

                <h2>Migration Structure</h2>
                <p>Each migration file should follow SQL standard format:</p>
                <pre><code class="language-sql">CREATE TABLE `table_name` (
    `id` INT(11) NOT NULL AUTO_INCREMENT,
    `field_name` VARCHAR(255) NULL DEFAULT NULL,
    PRIMARY KEY (`id`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=1 COLLATE='utf8mb3_general_ci';</code></pre>

                <h2>Migration Tracking</h2>
                <p>The system automatically tracks executed migrations in a <code>migrations</code> table:</p>
                <pre><code class="language-sql">CREATE TABLE migrations (
    id INT AUTO_INCREMENT PRIMARY KEY,
    migration VARCHAR(255),
    executed_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);</code></pre>

                <h2>Key Features</h2>
                <ul>
                    <li>Simple SQL-based migrations</li>
                    <li>Automatic tracking of executed migrations</li>
                    <li>Command-line interface</li>
                    <li>Error handling and logging</li>
                    <li>Database version control</li>
                </ul>
            </section>
        </main>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/prism.min.js"></script>
    <script src="../js/script.js"></script>
</body>
</html> 